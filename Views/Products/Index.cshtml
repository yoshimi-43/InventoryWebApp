@model IEnumerable<InventoryWebApp.Models.Product>

@{
    ViewData["Title"] = "在庫一覧";
}

<h2>在庫一覧</h2>

<div class="mb-3">
    <input type="text" id="searchBox" placeholder="商品名で検索..." class="form-control" />
</div>

<div id="productTable">
    @Html.Partial("_ProductTablePartial", Model)
</div>

<div class="mt-3">
    <a asp-action="Create" class="btn btn-primary">新規追加</a>
    <a asp-action="ExportCsv" class="btn btn-success">CSV出力</a>
</div>

@section Scripts {
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script>
        $("#searchBox").on("keyup", function () {
            const query = $(this).val();
            $.get("/Products/Index", { search: query }, function (data) {
                $("#productTable").html(data);
            });
        });
    </script>
}
